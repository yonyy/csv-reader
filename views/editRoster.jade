extends ./layout.jade

block link
	link(href='https://fonts.googleapis.com/css?family=Raleway:600', rel='stylesheet')
	link(href="../../img/school1.png", rel="icon", type="image/png" )
	link(href="../../css/bootstrap.min.css", rel="stylesheet")
	link(href="../../css/font-awesome/css/font-awesome.min.css", rel="stylesheet", type="text/css")
	link(href='../../css/sb-admin.css', rel='stylesheet')
	link(href="../../css/rosterEdit.css", rel="stylesheet" )

block script
	script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular.min.js")
	script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular-route.js")
	script(src="../../js/jquery-1.11.3.js")
	script(src="../../js/bootstrap.min.js")
	script(src="../../../js/rosterEditApp.js")

block prepend bodyLink
	body(ng-app="app" ng-controller="MainController as main")

block rosterActive
	li.active
		a(href="/rosters")
			i(class="fa fa-list-ul") 
			|  Rosters
block content
	div(id='page-wrapper', class="pageContainer")
		div(class="container-fluid")
			div(class="row")
				div(class="col-lg-12")
					h1(class="page-header") Rosters
					ol(class="breadcrumb")
						li
							i(class="fa fa-dashboard")
							a(href="/index")  Dashboard
						li(class="active")
							i(class="fa fa-edit")
							|  Rosters
			div(class="row")
				div(class="col-lg-12")
					ol(class="breadcrumb")
						li(class="active")
							span(class="glyphicon glyphicon-th-list")
							|  Edit
			div(class="row")
				div(class="input-group")
					span(class="input-group-addon")
						span(class="glyphicon glyphicon-search")
					input(type="text" class="form-control" ng-model="main.searchInput")

			div(class="row")
				div(class="col-lg-12")
					ul(class="list-group")
						li(class="list-group-item .hvr-underline-from-center" ng-repeat="student in main.students | filter:main.searchInput")
							span(ng-hide="editing")
								|  {{student.lastname}}, {{student.firstname}} Email: {{student.email}} Exam ID: {{student.studentID}}
							span(class="option")
								button(class="btn btn-default option" ng-click="editing = true") Edit
								button(class="btn btn-default option" ng-click="deleteRoster(roster._id)") Delete
							form(role="form" ng-show="editing" ng-submit="editing = false")
								div(class="row")
									div(class="col-lg-6")
										div(class="col-lg-4 form-group")
											label(for="lastname") Last Name
											input(type="text", ng-model="student.lastname" class="form-control", id="lastname", placeholder="student.lastname" ng-required)
										div(class="col-lg-4 form-group")
											label(for="firstname") First Name
											input(type="text", ng-model="student.firstname" class="form-control", id="firstname", placeholder="student.firstname" ng-required)
										div(class="col-lg-4 form-group")
											label(for="email") Email
											input(type="text", ng-model="student.email" class="form-control", id="email", placeholder="student.email" ng-required)
								div(class="save")
									button(class="btn btn-default" type="submit") Save
					form(class="form" ng-show="visible" ng-submit="newStudent()")
						div(class="row")
							div(class="col-lg-6")
								div(class="col-lg-4 form-group")
									label(for="lastname") Last Name
									input(type="text", ng-model="studentLastName" class="form-control", id="lastname" ng-required)
								div(class="col-lg-4 form-group")
									label(for="firstname") First Name
									input(type="text", ng-model="studentFirstName" class="form-control", id="firstname" ng-required)
								div(class="col-lg-4 form-group")
									label(for="email") Email
									input(type="text", ng-model="studentEmail" class="form-control", id="email" ng-required)
						div(class="row")
							div(class="col-lg-6")
								div(class="col-lg-3")
									label Is Left Handed
									select(class="form-control", ng-model="studentHand")
										option(selected="selected", value="false") false
										option(value="true") true
								div(class="col-lg-3")
									label is OSD
									select(class="form-control", ng-model="studentOSD")
										option(selected="selected", value="false") false
							
										option(value="true") true
						div(class="space")
						div(class="save")
							button(class="btn btn-default" type="submit") Save
											div(class="row")
			div(class="row")
				a(ng-click= "manual = true") Manually Paste a new Roster
				form(class="form" ng-show="manual" ng-submit="newManualRoster()")
					div(class="col-lg-12")
						label(for="rosterTextInput") Paste Roster
						textarea(class="form-control", id="rosterTextInput" rows="10" ng-model="manualRoster" ng-required)
					button(class="btn btn-default" type="submit") Update
					button(class="btn btn-default" ng-click="manual = false") Cancel
			div(class="row")
				div(class="container")
					a(class="btn btn-default" ng-click="visible = true")
						i(class="icon-plus")
							|  Add
					a(class="btn btn-default" ng-click="updateRoster()")
						i(class="icon-minus")
							|  Save and Close